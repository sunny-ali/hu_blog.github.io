(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{525:function(a,e,s){"use strict";s.r(e);var t=s(4),n=Object(t.a)({},(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("p",[a._v("当我们需要从当前页面跳转到另一个页面时，需要用到微信路由API")]),a._v(" "),s("h2",{attrs:{id:"总结以下几种路由跳转方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结以下几种路由跳转方式"}},[a._v("#")]),a._v(" 总结以下几种路由跳转方式：")]),a._v(" "),s("p",[s("strong",[a._v("wx.navigateTo")]),a._v(" 用于保留当前页面、跳转到应用内的某个页面，对于页面不是特别多的小程序，通常推荐使用 wx.navigateTo进行跳转， 以便返回原页面，以提高加载速度。当页面特别多时，则不推荐使用。\n"),s("strong",[a._v("注意点：不允许跳转到 tabbar 页面")]),a._v("\n如果从A页面使用wx.navigateTo跳转到B页面时，然后B页面返回到A页面，这时A页面中的生命周期onLoad()方法不会被调用了，onshow()会被调用")]),a._v(" "),s("p",[s("strong",[a._v("wx.redirectTo")]),a._v(" 当页面过多时，被保留页面会挤占微信分配给小程序的内存，或是达到微信所限制的 10层页面栈。这时，我们应该考虑选择 wx.redirectTo。wx.redirectTo()用于关闭当前页面，跳转到应用内的某个页面。这样的跳转，可以避免跳转前页面占据运行内存，但返回时页面需要重新加载，增加了返回页面的显示时间。\n"),s("strong",[a._v("注意：不允许跳转到tabbar页面")])]),a._v(" "),s("p",[a._v("wx.reLaunch wx.reLaunch()与 wx.redirectTo()的用途基本相同， 只是 wx.reLaunch()先关闭了内存中所有保留的页面，再跳转到目标页面。")]),a._v(" "),s("p",[s("strong",[a._v("wx.switchTab")]),a._v(" 对于跳转到 tab bar 的页面，最好选择 wx.switchTab()，它会先关闭所有非 tab bar 的页面。其次，也可以选择 wx.reLaunch()，它也能实现从非 tab bar 跳转到 tab bar，或在 tab bar 间跳转，效果等同 wx.switchTab()。使用其他跳转 API 来跳转到 tab bar，则会跳转失败。")]),a._v(" "),s("p",[s("strong",[a._v("wx.navigateBack")]),a._v(" 用于关闭当前页面，并返回上一页面或多级页面。开发者可通过 getCurrentPages() 获取当前的页面栈，决定需要返回几层。这个 API 需要填写的参数只有 delta，表示要返回的页面数。若 delta 的取值大于现有可返回页面数时，则返回到用户进入小程序的第一个页面。当不填写 delta 的值时，就默认其为 1（注意，默认并非取 0），即返回上一页面。")]),a._v(" "),s("p",[s("strong",[a._v("路由传值注意：")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("例如：arr = [{name:'Ali'},{name:'jom'}]\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("从A页面跳转携带一个数组类型的值arr到B页面中\nB页面接收到的是个字符串类型的值 ' [{name:'Ali'},{name:'jom'}]'\n传过去的都会解析成字符串类型包括boolean,null及undefined")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("wx.navigateTo({\n    url: `../addProcess/addProcess?processType=false&&processId=12&&arr=${JSON.stringify(arr)}`,\n  })\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("p",[s("strong",[a._v("wx.navigateTo跳转失败报错：")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('VM21:2 Unhandled promise rejection \n{errMsg: "navigateTo:fail page "pages/addProject/addProject" is not found"}\nerrMsg: "navigateTo:fail page "pages/addProject/addProject" is not found"\n__proto__: Object\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("p",[a._v('原因：app.json中没有注册"pages/addProject/addProject"这个页面')])])}),[],!1,null,null,null);e.default=n.exports}}]);