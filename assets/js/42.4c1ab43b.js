(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{526:function(s,n,a){"use strict";a.r(n);var e=a(4),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("当多个页面需要重复使用某一功能模块时，可将该功能模块抽象成自定义组件，以便在不同的页面中重复使用。")]),s._v(" "),a("h2",{attrs:{id:"引用自定义组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#引用自定义组件"}},[s._v("#")]),s._v(" 引用自定义组件：")]),s._v(" "),a("p",[s._v("创建自定义组件类似于页面，一个自定义组件由 json wxml wxss js 4个文件组成。")]),s._v(" "),a("p",[s._v("同时也可以在 wxml 文件中编写组件模板，在 wxss 文件中加入组件样式，它们的写法与页面的写法类似。\n项目目录结构："),a("br"),s._v(" "),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201206182808886.png",alt:"在这里插入图片描述"}})]),s._v(" "),a("p",[s._v("子组件的位置：components/cardItem/cardItem.js的代码如下")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Component({\n  properties: {\n    // 这里是从父组件传递过来的参数\n  },\n  data: {\n    // 这里是一些组件内部数据\n  },\n  methods: {\n    // 这里是一个自定义方法\n    customMethod: function(){}\n  }\n})\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("cardItem.json")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{\n  "component": true\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("父组件引用子组件cardItem")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('index.json代码\n{\n  "usingComponents": {\n    "component-tag-name":"../../components/cardItem/cardItem"\n  }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("index.wxml代码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<view class="container">\n   <component-tag-name></component-tag-name>   \n</view>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("strong",[s._v("编写组件样式时，需要注意以下几点：")])]),s._v(" "),a("p",[s._v("#a { } /* 在组件中不能使用\n[a] { } /* 在组件中不能使用\nbutton { } /* 在组件中不能使用\n.a > .b { } /* 除非 .a 是 view 组件节点，否则不一定会生效")]),s._v(" "),a("h2",{attrs:{id:"页面与组件之间传值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面与组件之间传值"}},[s._v("#")]),s._v(" 页面与组件之间传值")]),s._v(" "),a("p",[a("strong",[s._v("父组件向子组件传值( properties )，子组件向父组件传值（ this.triggerEvent() ）")])]),s._v(" "),a("p",[s._v("例如："),a("br"),s._v('\n父页面给子组件传递一个name="Ali"，子组件给父组件传递一个函数方法onCreateProces,并且带参数1212'),a("br"),s._v("\n代码如下：\n通过wxml设置data-[参数名]传递参数，[参数名]只能是小写\n父组件.wxml文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<view >\n    <children-item \n        name="Ali" \n        bind:onCreateProces="onCreateProces" \n        data-project-id="500"\n     />\n </view>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("父组件.js文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("onCreateProces(event){\n  let projectId = event.currentTarget.dataset.projectId//500 父组件本身的值\n  let params = event.detail //1212 子组件传过来的值\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("子组件.wxml文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('<view catchtap="onAddClick">\n     <text>{{name}}</text>\n     <image  src="../../img/add.png" alt="添加"></image>\n</view>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("子组件.js文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('Component({\n  properties: {\n    name:{\n        type:String\n    }\n  },\n  methods: {\n    onAddClick(){\n      //传值给父组件  事件名 参数值\n      this.triggerEvent("onCreateProces",1212)\n     },\n  }\n})\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("所以一些开发者会发现有些代码在旧的手机操作系统上出现一些语法错误。开发者需要l利用微信开发者工具在项目设置中，勾选 ES6 转 ES5 开启此功能就可以解决这类问题，从而在所有的环境都能得到很好的执行。")])])}),[],!1,null,null,null);n.default=t.exports}}]);